<!-- API Report Version: 2.3 -->

## API Report File for "@atlaskit/share"

> Do not edit this file. This report is auto-generated using [API Extractor](https://api-extractor.com/).
> [Learn more about API reports](https://hello.atlassian.net/wiki/spaces/UR/pages/1825484529/Package+API+Reports)

### Table of contents

- [Main Entry Types](#main-entry-types)
- [Peer Dependencies](#peer-dependencies)

### Main Entry Types

<!--SECTION START: Main Entry Types-->

```ts
/// <reference types="react" />

import type { Appearance } from '@atlaskit/button/types';
import type { IconProps } from '@atlaskit/icon';
import { jsx } from '@emotion/react';
import type { LoadOptions } from '@atlaskit/smart-user-picker';
import { OptionData } from '@atlaskit/smart-user-picker';
import type { Placement } from '@atlaskit/popper';
import { default as React_2 } from 'react';
import { ReactElement } from 'react';
import { TriggerProps } from '@atlaskit/popup';
import type { Value } from '@atlaskit/smart-user-picker';
import { WithAnalyticsEventsProps } from '@atlaskit/analytics-next';

// @public (undocumented)
export const ADMIN_NOTIFIED = 'admin-notified';

// @public (undocumented)
type Comment_2 = {
  format: 'adf' | 'plain_text';
  value: string;
};
export { Comment_2 as Comment };

// @public (undocumented)
export type ConfigResponse = {
  disableSharingToEmails?: boolean;
};

// @public (undocumented)
export type Content = {
  ari: string;
  link: string;
  title: string;
  type: string;
};

// @public (undocumented)
export class CopyLinkButton extends React_2.Component<Props, State> {
  // (undocumented)
  componentWillUnmount(): void;
  // (undocumented)
  render(): jsx.JSX.Element;
  // (undocumented)
  renderTriggerButton: (triggerProps: TriggerProps) => jsx.JSX.Element;
  // (undocumented)
  state: {
    shouldShowCopiedMessage: boolean;
  };
}

// @public (undocumented)
export type DialogContentState = {
  users: OptionData[];
  comment: Comment_2;
};

// @public (undocumented)
export type DialogPlacement = Placement;

// @public (undocumented)
export type Flag = {
  appearance: 'success';
  title: MessageDescriptor;
  type: FlagType;
};

// @public (undocumented)
export type FlagType = 'admin-notified' | 'object-shared';

// @public (undocumented)
export type FormChildrenArgs<T> = {
  formProps: React.DetailedHTMLProps<
    React.FormHTMLAttributes<HTMLFormElement>,
    HTMLFormElement
  >;
  getValues: () => T;
};

// @public (undocumented)
type Integration = {
  type: string;
  Icon: React.ComponentType;
  Content: React.ComponentType<IntegrationContentProps>;
};

// @public (undocumented)
type IntegrationContentProps = {
  onClose: () => void;
  changeTab?: (index: TabType) => void;
};

// @public (undocumented)
type IntegrationMode = 'off' | 'split' | 'tabs';

// @public (undocumented)
export type KeysOfType<T, TProp> = {
  [P in keyof T]: T[P] extends TProp ? P : never;
}[keyof T];

// @public (undocumented)
export type MessageDescriptor = {
  id: string;
  description: string;
  defaultMessage: string;
};

// @public (undocumented)
export type MetaData = {
  productId: string;
  atlOriginId: string;
  shareeAction?: 'edit' | 'view';
};

// @public (undocumented)
export const OBJECT_SHARED = 'object-shared';

// @public (undocumented)
export type OriginAnalyticAttributes = {
  hasGeneratedId: boolean;
};

// @public (undocumented)
export type OriginTracing = {
  id: string;
  addToUrl: (link: string) => string;
  toAnalyticsAttributes: (
    attrs: OriginAnalyticAttributes,
  ) => OriginTracingForSubSequentEvents | OriginTracingWithIdGenerated;
};

// @public (undocumented)
export type OriginTracingFactory = () => OriginTracing;

// @public (undocumented)
export type OriginTracingForSubSequentEvents = {
  originId: string;
  originProduct: string;
};

// @public (undocumented)
export type OriginTracingWithIdGenerated = {
  originIdGenerated: string;
  originProduct: string;
};

// @public
export type ProductId =
  | 'bitbucket'
  | 'confluence'
  | 'jira-addon'
  | 'jira-core'
  | 'jira-platform'
  | 'jira-polaris'
  | 'jira-portfolio'
  | 'jira-servicedesk'
  | 'jira-software'
  | 'jira-unknown'
  | 'trello';

// @public (undocumented)
export type ProductName = 'confluence' | 'jira';

// @public (undocumented)
type Props = {
  onLinkCopy?: (link: string) => void;
  link: string;
  isDisabled?: boolean;
  copyTooltipText?: string;
  children?: ReactElement | string;
  copyLinkButtonText: string;
  copiedToClipboardText: string;
  iconBefore?: ReactElement;
};

// @public (undocumented)
export type RenderCustomTriggerButton = (
  args: {
    error?: ShareError;
    isDisabled?: boolean;
    isSelected?: boolean;
    onClick: () => void;
  },
  triggerProps: TriggerProps,
) => React.ReactNode;

// @public (undocumented)
export type ShareButtonStyle = 'icon-only' | 'icon-with-text' | 'text-only';

// @public (undocumented)
interface ShareClient {
  // (undocumented)
  getConfig(cloudId: string): Promise<ConfigResponse>;
  // (undocumented)
  share(
    content: Content,
    recipients: User[],
    metadata: MetaData,
    comment?: Comment_2,
  ): Promise<ShareResponse>;
}

// @public (undocumented)
export type ShareContentState = {
  users: User[];
  comment?: Comment_2;
};

// @public (undocumented)
export const ShareDialogContainer: React_2.ForwardRefExoticComponent<
  Pick<
    Omit<
      WithAnalyticsEventsProps & ShareDialogContainerProps,
      keyof WithAnalyticsEventsProps
    >,
    | 'bottomMessage'
    | 'cloudId'
    | 'copyTooltipText'
    | 'customFooter'
    | 'dialogPlacement'
    | 'dialogZIndex'
    | 'formatCopyLink'
    | 'integrationMode'
    | 'isAutoOpenDialog'
    | 'isBrowseUsersDisabled'
    | 'isCopyDisabled'
    | 'isPublicLink'
    | 'loadUserOptions'
    | 'loggedInAccountId'
    | 'onDialogClose'
    | 'onDialogOpen'
    | 'onTriggerButtonClick'
    | 'onUserSelectionChange'
    | 'orgId'
    | 'originTracingFactory'
    | 'productId'
    | 'renderCustomTriggerButton'
    | 'shareAri'
    | 'shareClient'
    | 'shareContentType'
    | 'shareFieldsFooter'
    | 'shareFormHelperMessage'
    | 'shareFormTitle'
    | 'shareIntegrations'
    | 'shareLink'
    | 'shareTitle'
    | 'shortLinkData'
    | 'shouldCloseOnEscapePress'
    | 'showFlags'
    | 'tabIndex'
    | 'triggerButtonAppearance'
    | 'triggerButtonIcon'
    | 'triggerButtonStyle'
    | 'triggerButtonTooltipPosition'
    | 'triggerButtonTooltipText'
    | 'urlShortenerClient'
    | 'useUrlShortener'
  > &
    Partial<
      Pick<
        Omit<
          WithAnalyticsEventsProps & ShareDialogContainerProps,
          keyof WithAnalyticsEventsProps
        >,
        'enableSmartUserPicker' | 'product' | 'shareeAction'
      >
    > &
    Partial<
      Pick<
        {
          enableSmartUserPicker: boolean;
          shareeAction: 'edit' | 'view';
          product: string;
        },
        never
      >
    > &
    React_2.RefAttributes<any>
>;

// @public (undocumented)
export type ShareDialogContainerProps = {
  onTriggerButtonClick?: () => void;
  onDialogOpen?: () => void;
  onDialogClose?: () => void;
  isAutoOpenDialog?: boolean;
  shareClient?: ShareClient;
  urlShortenerClient?: UrlShortenerClient;
  shortLinkData?: ShortenRequest;
  cloudId: string;
  orgId?: string;
  dialogPlacement?: DialogPlacement;
  dialogZIndex?: number;
  formatCopyLink?: (origin: OriginTracing, link: string) => string;
  loadUserOptions?: LoadOptions;
  originTracingFactory: OriginTracingFactory;
  productId: ProductId;
  renderCustomTriggerButton?: RenderCustomTriggerButton;
  shareAri: string;
  shareContentType: string;
  shareLink?: string;
  shareTitle: string;
  shareFormTitle?: React.ReactNode;
  shareFormHelperMessage?: string;
  shouldCloseOnEscapePress?: boolean;
  showFlags: (flags: Array<Flag>) => void;
  enableSmartUserPicker?: boolean;
  loggedInAccountId?: string;
  triggerButtonAppearance?: Appearance;
  triggerButtonIcon?: React.ComponentType<IconProps>;
  triggerButtonStyle?: ShareButtonStyle;
  triggerButtonTooltipPosition?: TooltipPosition;
  triggerButtonTooltipText?: React.ReactNode;
  bottomMessage?: React.ReactNode;
  useUrlShortener?: boolean;
  shareeAction?: 'edit' | 'view';
  product?: ProductName;
  customFooter?: React.ReactNode;
  onUserSelectionChange?: (value: Value) => void;
  shareFieldsFooter?: React.ReactNode;
  isCopyDisabled?: boolean;
  isPublicLink?: boolean;
  integrationMode?: IntegrationMode;
  shareIntegrations?: Array<Integration>;
  tabIndex?: number;
  copyTooltipText?: string;
  isBrowseUsersDisabled?: boolean;
};

// @public (undocumented)
export type ShareError = {
  message: string;
};

// @public (undocumented)
export type ShareRequest = (
  content: Content,
  recipients: User[],
  metadata: MetaData,
  comment?: Comment_2,
) => Promise<ShareResponse>;

// @public (undocumented)
export type ShareResponse = {
  shareRequestId: string;
};

// @public (undocumented)
interface ShortenRequest {
  // (undocumented)
  cloudId?: string;
  // (undocumented)
  params: Record<string, string>;
  // (undocumented)
  product: string;
  // (undocumented)
  query?: string;
  // (undocumented)
  type: string;
}

// @public (undocumented)
interface ShortenResponse {
  // (undocumented)
  shortUrl: string;
}

// @public (undocumented)
type State = {
  shouldShowCopiedMessage: boolean;
};

// @public (undocumented)
enum TabType {
  // (undocumented)
  default = 0,
  // (undocumented)
  Slack = 1,
}

// @public (undocumented)
export type TooltipPosition = 'bottom' | 'left' | 'mouse' | 'right' | 'top';

// @public (undocumented)
interface UrlShortenerClient {
  // (undocumented)
  shorten(data: ShortenRequest): Promise<ShortenResponse>;
}

// @public (undocumented)
export type User = UserWithEmail | UserWithId;

// @public (undocumented)
export type UserWithEmail = {
  type: 'user';
  email: string;
};

// @public (undocumented)
export type UserWithId = {
  type: 'custom' | 'group' | 'team' | 'user';
  id: string;
};

// (No @packageDocumentation comment for this package)
```

<!--SECTION END: Main Entry Types-->

### Peer Dependencies

<!--SECTION START: Peer Dependencies-->

```json
{
  "react": "^16.8.0"
}
```

<!--SECTION END: Peer Dependencies-->
